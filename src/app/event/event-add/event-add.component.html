<div class="container">
  <h1>{{TitleForm}}</h1>

  <form (ngSubmit)="addEvent()" [formGroup]="eventForm" enctype="multipart/form-data">
    <input type="hidden" formControlName="Id"/>

    <mat-form-field class="full-width mb-4">
      <mat-label>Nombre del evento</mat-label>
      <input matInput type="text" id="name" formControlName="name">     
      <mat-error *ngIf=" submitted && errorHandling('name', 'required')">
        El nombre es <strong>requerido</strong>
      </mat-error>
    </mat-form-field>
    
    <mat-form-field class="full-width mb-4">
      <mat-label>Descripción</mat-label>
      <textarea matInput id="descripcion" formControlName="descripcion" rows="4"></textarea>
      <mat-error *ngIf="eventForm.get('descripcion').invalid && (eventForm.get('descripcion').dirty || eventForm.get('descripcion').touched)">
        Descripción requerida.
      </mat-error>
      <mat-error *ngIf=" submitted && errorHandling('descripcion', 'required')">
        La fecha es <strong>requerida</strong>
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width mb-4">
      <mat-label>Fecha</mat-label>
      <input matInput type="date" id="fecha" formControlName="fecha">
      <mat-error *ngIf="eventForm.get('fecha').invalid && (eventForm.get('fecha').dirty || eventForm.get('fecha').touched)">
        Fecha requerida.
      </mat-error>
      <mat-error *ngIf=" submitted && errorHandling('fecha', 'required')">
        La fecha es <strong>requerida</strong>
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width mb-4">
      <mat-label>Cupo</mat-label>
      <input matInput type="number" id="cupo" formControlName="cupo">
      <mat-error *ngIf="eventForm.get('cupo').hasError('min')">
        El cupo debe ser mayor a 5.
      </mat-error>
      <mat-error *ngIf=" submitted && errorHandling('cupo', 'required')">
        El cupo es <strong>requerido</strong>
      </mat-error>
    </mat-form-field>

    
    <div class="form-group">
      <label for="imagen">Imagen:</label>
      <input type="file" id="imagen" (change)="handleFileInput($event)" class="form-control-file">
      <img *ngIf="previewImage" [src]="previewImage" class="preview-image">
      <mat-error *ngIf=" submitted && errorHandling('imagen', 'required')">
        La imagen es <strong>requerida</strong>
      </mat-error>
    </div>

    <button type="submit" class="btn btn-primary" >Agregar Evento</button>
  </form>
</div>
